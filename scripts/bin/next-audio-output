#!/usr/bin/env python

import subprocess
import os

audiodevice = os.path.expanduser('~/bin/audiodevice')

outputs = subprocess.check_output([audiodevice, 'output', 'list']).decode().strip('\n')
outputs = outputs.split('\n')

current_output = subprocess.check_output([audiodevice, 'output']).decode().strip('\n')
index = outputs.index(current_output)

index = (index + 1) % len(outputs)

return_code = subprocess.call([audiodevice, 'output', outputs[index] ])
assert return_code == 0

